<!DOCTYPE html><html lang="en"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/4cf2300e9c8272f7-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/93f479601ee12b01-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/articles/images/1NtVSxnFcGi9P5ddosigsSA.png"/><link rel="stylesheet" href="/_next/static/css/deecf931bfbdc38e.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/13422ae1d848e043.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-bafee5ae243c8c89.js"/><script src="/_next/static/chunks/4bd1b696-20882bf820444624.js" async=""></script><script src="/_next/static/chunks/517-0d7e8c6ba2452810.js" async=""></script><script src="/_next/static/chunks/main-app-b25855ec5ccc6eda.js" async=""></script><script src="/_next/static/chunks/970-4a0f7daee52c7cff.js" async=""></script><script src="/_next/static/chunks/173-77a4cc13cb7e18d3.js" async=""></script><script src="/_next/static/chunks/app/articles/%5Bslug%5D/layout-0f8ac0524a72511b.js" async=""></script><script src="/_next/static/chunks/app/articles/%5Bslug%5D/page-c42cdda36797932a.js" async=""></script><meta name="next-size-adjust" content=""/><title>Codestar</title><meta name="description" content="Codestar - a Sopra Steria team"/><link rel="icon" href="/favicon.ico" type="image/x-icon" sizes="16x16"/><script src="/_next/static/chunks/polyfills-42372ed130431b0a.js" noModule=""></script></head><body class="__variable_188709 __variable_9a8899"><nav class="TopBar_top-bar__RDkoF"><div><a href="/"><img alt="Codestar Logo" loading="lazy" width="150" height="40" decoding="async" data-nimg="1" style="color:transparent" src="/codestar_logo_cream-red.svg"/></a><ul><li><a href="https://www.linkedin.com/company/codestar-powered-by-sopra-steria/">Contact</a></li></ul></div></nav><div class="layout_content__K15KO"><main class="layout_main__Afkre"><h1>Upgrading to Angular 9: My experience</h1><p>Published at <!-- -->2020-02-14<!-- --> by <!-- -->Bjorn &#x27;Bjeaurn&#x27;</p><img src="/articles/images/1NtVSxnFcGi9P5ddosigsSA.png" alt="Angular with Ivy" width="800"/>
<p>Last week, version 9 of Angular was released. The much anticipated Ivy Renderer was now set to default. The promise of smaller bundle sizes and faster applications was just too much for me to pass over. So Monday first thing, I wanted to get my upgrade going.</p>
<p>The following story shares my experiences in upgrading a sizable application with some complexity, giving a good indication of the types of issues you may be running into with your application.</p>
<h2>Upgrading</h2>
<p>As any upgrade starts, I created a new branch and ran the usual <code>ng update</code> to see what versions are eligible for automatic upgrades. I tried to run a <code>ng update --all</code> which failed cause of dependency issues like TSLint, Codelyzer and <code>rxjs-tslint-rules</code> not being updated yet. Normally, you could go for a <code>ng update --all --force</code> and see if that sticks, but considering the complexity of our application, I prefer to do it a bit more manually.</p>
<p>ng update @angular/cli @angular/core</p>
<p>This works fine, updates the CLI first and then updates and runs all migrations for the Angular application. This may result in some compilation errors, as not all situations and edge cases can be taken care of in the automatic migrations. Especially in larger applications, you’ll run into some edge cases.</p></main></div><footer class="Footer_footer__OYoYH"><div><ul class="contact-info"><li><a href="mailto:codestar@ordina.nl">codestar.nl@soprasteria.com</a></li><li><a href="tel:+31306637000">+31 30 6637000</a></li><li><a href="https://maps.google.com/maps?ll=52.057652,5.111462&amp;z=16&amp;t=m&amp;hl=en-GB&amp;gl=NL&amp;mapclient=embed&amp;cid=15918536717636328792" target="_blank" rel="noopener noreferrer">Ringwade 1, 3439 LM Nieuwegein</a></li></ul><p class="social-links"><a href="https://mastodon.social/@codestar" aria-label="Mastodon" rel="me"><img alt="Codestar Mastodon" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/mastodon_logo.svg"/></a><a href="https://github.com/code-star" aria-label="Github"><img alt="Codestar Github" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/github_logo.svg"/></a><a href="https://medium.com/codestar-blog" aria-label="Medium"><img alt="Codestar Medium" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/medium_logo.svg"/></a><a href="https://www.linkedin.com/company/codestar-powered-by-sopra-steria/" aria-label="Linkedin"><img alt="Codestar LinkedIn" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/linkedin_logo.svg"/></a><a href="https://www.youtube.com/channel/UCqwHhJNEUe7D-HGsX4zvKzQ" aria-label="Youtube"><img alt="Codestar Youtube" loading="lazy" width="36" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/youtube_logo.svg"/></a><a href="https://www.meetup.com/Code-Star-Night" aria-label="Meetup.com"><img alt="Codestar Meetup" loading="lazy" width="32" height="32" decoding="async" data-nimg="1" style="color:transparent" src="/meetup_logo.svg"/></a></p></div></footer><script src="/_next/static/chunks/webpack-bafee5ae243c8c89.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0])</script><script>self.__next_f.push([1,"1:\"$Sreact.fragment\"\n2:I[5244,[],\"\"]\n3:I[3866,[],\"\"]\n4:I[8173,[\"970\",\"static/chunks/970-4a0f7daee52c7cff.js\",\"173\",\"static/chunks/173-77a4cc13cb7e18d3.js\",\"571\",\"static/chunks/app/articles/%5Bslug%5D/layout-0f8ac0524a72511b.js\"],\"\"]\n5:I[7970,[\"970\",\"static/chunks/970-4a0f7daee52c7cff.js\",\"904\",\"static/chunks/app/articles/%5Bslug%5D/page-c42cdda36797932a.js\"],\"Image\"]\n7:I[6213,[],\"OutletBoundary\"]\n9:I[6213,[],\"MetadataBoundary\"]\nb:I[6213,[],\"ViewportBoundary\"]\nd:I[4835,[],\"\"]\n:HL[\"/_next/static/media/4cf2300e9c8272f7-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/media/93f479601ee12b01-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n:HL[\"/_next/static/css/deecf931bfbdc38e.css\",\"style\"]\n:HL[\"/_next/static/css/13422ae1d848e043.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"0:{\"P\":null,\"b\":\"A3FqRGOyWgaqwsb93pnMa\",\"p\":\"\",\"c\":[\"\",\"articles\",\"20200214-upgrading-to-angular-9-my-experience-65158c284034\"],\"i\":false,\"f\":[[[\"\",{\"children\":[\"articles\",{\"children\":[[\"slug\",\"20200214-upgrading-to-angular-9-my-experience-65158c284034\",\"d\"],{\"children\":[\"__PAGE__\",{}]}]}]},\"$undefined\",\"$undefined\",true],[\"\",[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/deecf931bfbdc38e.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[\"$\",\"html\",null,{\"lang\":\"en\",\"children\":[\"$\",\"body\",null,{\"className\":\"__variable_188709 __variable_9a8899\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[],[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":404}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]]],\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}]]}],{\"children\":[\"articles\",[\"$\",\"$1\",\"c\",{\"children\":[null,[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]]}],{\"children\":[[\"slug\",\"20200214-upgrading-to-angular-9-my-experience-65158c284034\",\"d\"],[\"$\",\"$1\",\"c\",{\"children\":[[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/13422ae1d848e043.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\",\"nonce\":\"$undefined\"}]],[null,[\"$\",\"nav\",null,{\"className\":\"TopBar_top-bar__RDkoF\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"$L4\",null,{\"href\":\"/\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/codestar_logo_cream-red.svg\",\"alt\":\"Codestar Logo\",\"width\":150,\"height\":40}]}],[\"$\",\"ul\",null,{\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/company/codestar-powered-by-sopra-steria/\",\"children\":\"Contact\"}]}]}]]}]}],[\"$\",\"div\",null,{\"className\":\"layout_content__K15KO\",\"children\":[\"$\",\"main\",null,{\"className\":\"layout_main__Afkre\",\"children\":[\"$\",\"$L2\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"articles\",\"children\",\"$0:f:0:1:2:children:2:children:0\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$L3\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"forbidden\":\"$undefined\",\"unauthorized\":\"$undefined\"}]}]}],[\"$\",\"footer\",null,{\"className\":\"Footer_footer__OYoYH\",\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"ul\",null,{\"className\":\"contact-info\",\"children\":[[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"mailto:codestar@ordina.nl\",\"children\":\"codestar.nl@soprasteria.com\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"tel:+31306637000\",\"children\":\"+31 30 6637000\"}]}],[\"$\",\"li\",null,{\"children\":[\"$\",\"a\",null,{\"href\":\"https://maps.google.com/maps?ll=52.057652,5.111462\u0026z=16\u0026t=m\u0026hl=en-GB\u0026gl=NL\u0026mapclient=embed\u0026cid=15918536717636328792\",\"target\":\"_blank\",\"rel\":\"noopener noreferrer\",\"children\":\"Ringwade 1, 3439 LM Nieuwegein\"}]}]]}],[\"$\",\"p\",null,{\"className\":\"social-links\",\"children\":[[\"$\",\"a\",null,{\"href\":\"https://mastodon.social/@codestar\",\"aria-label\":\"Mastodon\",\"rel\":\"me\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/mastodon_logo.svg\",\"alt\":\"Codestar Mastodon\",\"width\":32,\"height\":32}]}],[\"$\",\"a\",null,{\"href\":\"https://github.com/code-star\",\"aria-label\":\"Github\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/github_logo.svg\",\"alt\":\"Codestar Github\",\"width\":32,\"height\":32}]}],[\"$\",\"a\",null,{\"href\":\"https://medium.com/codestar-blog\",\"aria-label\":\"Medium\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/medium_logo.svg\",\"alt\":\"Codestar Medium\",\"width\":32,\"height\":32}]}],[\"$\",\"a\",null,{\"href\":\"https://www.linkedin.com/company/codestar-powered-by-sopra-steria/\",\"aria-label\":\"Linkedin\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/linkedin_logo.svg\",\"alt\":\"Codestar LinkedIn\",\"width\":32,\"height\":32}]}],[\"$\",\"a\",null,{\"href\":\"https://www.youtube.com/channel/UCqwHhJNEUe7D-HGsX4zvKzQ\",\"aria-label\":\"Youtube\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/youtube_logo.svg\",\"alt\":\"Codestar Youtube\",\"width\":36,\"height\":32}]}],[\"$\",\"a\",null,{\"href\":\"https://www.meetup.com/Code-Star-Night\",\"aria-label\":\"Meetup.com\",\"children\":[\"$\",\"$L5\",null,{\"src\":\"/meetup_logo.svg\",\"alt\":\"Codestar Meetup\",\"width\":32,\"height\":32}]}]]}]]}]}]]]}],{\"children\":[\"__PAGE__\",[\"$\",\"$1\",\"c\",{\"children\":[\"$L6\",null,[\"$\",\"$L7\",null,{\"children\":\"$L8\"}]]}],{},null,false]},null,false]},null,false]},null,false],[\"$\",\"$1\",\"h\",{\"children\":[null,[\"$\",\"$1\",\"ezGTtDWyGdwxbaghZvauz\",{\"children\":[[\"$\",\"$L9\",null,{\"children\":\"$La\"}],[\"$\",\"$Lb\",null,{\"children\":\"$Lc\"}],[\"$\",\"meta\",null,{\"name\":\"next-size-adjust\",\"content\":\"\"}]]}]]}],false]],\"m\":\"$undefined\",\"G\":[\"$d\",\"$undefined\"],\"s\":false,\"S\":true}\n"])</script><script>self.__next_f.push([1,"e:I[9214,[\"970\",\"static/chunks/970-4a0f7daee52c7cff.js\",\"904\",\"static/chunks/app/articles/%5Bslug%5D/page-c42cdda36797932a.js\"],\"PreloadChunks\"]\n6:[[\"$\",\"h1\",null,{\"children\":\"Upgrading to Angular 9: My experience\"}],[\"$\",\"p\",null,{\"children\":[\"Published at \",\"2020-02-14\",\" by \",\"Bjorn 'Bjeaurn'\"]}],[[\"$\",\"$Le\",null,{\"moduleIds\":\"$undefined\"}],\"$Lf\"]]\n"])</script><script>self.__next_f.push([1,"f:[[\"$\",\"img\",null,{\"src\":\"/articles/images/1NtVSxnFcGi9P5ddosigsSA.png\",\"alt\":\"Angular with Ivy\",\"width\":\"800\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"Last week, version 9 of Angular was released. The much anticipated Ivy Renderer was now set to default. The promise of smaller bundle sizes and faster applications was just too much for me to pass over. So Monday first thing, I wanted to get my upgrade going.\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"The following story shares my experiences in upgrading a sizable application with some complexity, giving a good indication of the types of issues you may be running into with your application.\"}],\"\\n\",[\"$\",\"h2\",null,{\"children\":\"Upgrading\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":[\"As any upgrade starts, I created a new branch and ran the usual \",[\"$\",\"code\",null,{\"children\":\"ng update\"}],\" to see what versions are eligible for automatic upgrades. I tried to run a \",[\"$\",\"code\",null,{\"children\":\"ng update --all\"}],\" which failed cause of dependency issues like TSLint, Codelyzer and \",[\"$\",\"code\",null,{\"children\":\"rxjs-tslint-rules\"}],\" not being updated yet. Normally, you could go for a \",[\"$\",\"code\",null,{\"children\":\"ng update --all --force\"}],\" and see if that sticks, but considering the complexity of our application, I prefer to do it a bit more manually.\"]}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"ng update @angular/cli @angular/core\"}],\"\\n\",[\"$\",\"p\",null,{\"children\":\"This works fine, updates the CLI first and then updates and runs all migrations for the Angular application. This may result in some compilation errors, as not all situations and edge cases can be taken care of in the automatic migrations. Especially in larger applications, you’ll run into some edge cases.\"}]]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}]]\na:[[\"$\",\"meta\",\"0\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"1\",{\"children\":\"Codestar\"}],[\"$\",\"meta\",\"2\",{\"name\":\"description\",\"content\":\"Codestar - a Sopra Steria team\"}],[\"$\",\"link\",\"3\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"type\":\"image/x-icon\",\"sizes\":\"16x16\"}]]\n"])</script><script>self.__next_f.push([1,"8:null\n"])</script></body></html>